const path = require('path')
const fs = require('fs')
const { rimraf, rimrafSync, readdir } = require('./utils.js')

exports.emp = async function(_path, removeDir=false) {
  const isPathValid = fs.existsSync(_path)
  await rimraf(_path)

  if (isPathValid && !removeDir) {
    fs.mkdirSync(_path)
  }
}

exports.empSync = function(_path, removeDir=false) {
  const isPathValid = fs.existsSync(_path)
  rimrafSync(_path)

  if (isPathValid && !removeDir) {
    fs.mkdirSync(_path)
  }
}

exports.isEmpty = async function(_path) {
  const files = await readdir(_path)

  if (!files.length) {
    return false
  } else {
    return true
  }
}

exports.isEmptySync = function(_path) {
  const items = fs.readdirSync(_path)
  if (!items.length) {
    return false
  } else {
    return true
  }
}
